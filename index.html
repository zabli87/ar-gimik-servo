<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Projek Gimik AR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/2.0.0/aframe/build/aframe-ar.js"></script>
  </head>
  <body style="margin:0; overflow:hidden;">
    <a-scene embedded arjs>
      <!-- Marker HIRO -->
      <a-marker preset="hiro">
        <!-- Tajuk Projek -->
        <a-entity position="0 0.8 0" 
                  text="value: Projek Gimik Penutup Pertandingan Inovasi; color: red; align: center;">
        </a-entity>

        <!-- Butang Trigger (Hijau) -->
        <a-box position="0 0 0" depth="0.3" height="0.3" width="0.3" 
               color="green" onclick="triggerServo()"></a-box>
        <a-entity position="0 -0.3 0" 
                  text="value: Trigger; align: center; color: black"></a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      const BLYNK_TOKEN = "tS2Sx-WLe8DTFeAYdgd7UEN6uxrf3JlA";  // token projek gimik
      const VPIN = "V1";
      const BASE = "https://blr1.blynk.cloud/external/api";

      function triggerServo(){
        fetch(`${BASE}/update?token=${BLYNK_TOKEN}&${VPIN}=1`)
          .then(()=>alert("Servo Triggered! (V1=1 dihantar)"));
      }
    </script>
  </body>
</html>
